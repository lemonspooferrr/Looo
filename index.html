<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>LemonSpoofer - WebRTC Call Spoof</title>
</head>
<body>
    <h1>ðŸ“ž LemonSpoofer - Appel Spoof WebRTC</h1>
    <p><b>Caller ID :</b> +33969353969</p>
    <p><b>Vers :</b> +33756836479</p>
    <button onclick="startCall()">âœ… Appeler</button>
    <p id="status"></p>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/sip.js/0.20.0/sip.min.js"></script>
    <script>
        const status = document.getElementById("status");

        const userAgent = new SIP.UA({
            uri: 'testspoof123@sip.portsip.com',
            transportOptions: {
                wsServers: ['wss://sip.portsip.com:5063'],
                traceSip: true
            },
            authorizationUser: 'testspoof123',
            password: 'x6f89sPoof',
            displayName: '+33969353969'
        });

        userAgent.on('connected', () => status.innerText = "âœ… ConnectÃ© au serveur SIP.");
        userAgent.on('disconnected', () => status.innerText = "âŒ DÃ©connectÃ© du serveur SIP.");

        function startCall() {
            status.innerText = "ðŸ“ž Appel en cours...";
            const target = 'sip:+33756836479@sip.portsip.com';
            const session = userAgent.invite(target, {
                sessionDescriptionHandlerOptions: {
                    constraints: {
                        audio: true,
                        video: false
                    }
                }
            });

            session.on('accepted', () => status.innerText = "âœ… Appel acceptÃ© !");
            session.on('rejected', () => status.innerText = "âŒ Appel rejetÃ©.");
            session.on('failed', () => status.innerText = "âŒ Ã‰chec de l'appel.");
            session.on('bye', () => status.innerText = "ðŸ“´ Appel terminÃ©.");
        }
    </script>
</body>
</html>
